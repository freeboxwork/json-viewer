<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RBD0W9Q8JX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-RBD0W9Q8JX');
    </script>
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
      (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "vdqmmmdmnt");
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Diff Online - Compare Two JSON Objects</title>
    <meta name="description" content="Compare two JSON objects online for free. See differences highlighted with added, removed, and changed values.">
    <link rel="canonical" href="https://json-viewer-ce3.pages.dev/json-diff.html">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="icon" href="icon.png" type="image/png" sizes="192x192">
    <link rel="apple-touch-icon" href="icon.png">
    <meta property="og:title" content="JSON Diff Online - Compare Two JSON Objects">
    <meta property="og:description" content="Compare two JSON objects online for free. See differences highlighted with added, removed, and changed values.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://json-viewer-ce3.pages.dev/json-diff.html">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="JSON Diff Online - Compare Two JSON Objects">
    <meta name="twitter:description" content="Compare two JSON objects online. See differences highlighted with added, removed, and changed values.">
    <meta name="robots" content="index, follow">
    <meta property="og:site_name" content="JSON Tools">
    <meta property="og:locale" content="en_US">
    <meta property="og:image" content="https://json-viewer-ce3.pages.dev/favicon.svg">
    <link rel="alternate" type="application/rss+xml" title="JSON Tools RSS" href="https://json-viewer-ce3.pages.dev/rss.xml">
    <meta name="google-adsense-account" content="ca-pub-8753276846370247">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8753276846370247" crossorigin="anonymous"></script>
    <script type="application/ld+json">
    [{"@context":"https://schema.org","@type":"WebApplication","name":"JSON Diff","url":"https://json-viewer-ce3.pages.dev/json-diff.html","description":"Free online JSON diff tool. Compare two JSON objects side by side and find differences.","applicationCategory":"DeveloperApplication","operatingSystem":"Any","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"isPartOf":{"@type":"WebSite","name":"JSON Tools","url":"https://json-viewer-ce3.pages.dev"}},{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"JSON Tools","item":"https://json-viewer-ce3.pages.dev"},{"@type":"ListItem","position":2,"name":"JSON Diff","item":"https://json-viewer-ce3.pages.dev/json-diff.html"}]}]
    </script>
    <link rel="preload" href="style.css" as="style">
    <link rel="stylesheet" href="style.css">
</head>
<body data-page="diff">
    <nav id="site-nav"></nav>

    <main>
        <div class="page-header">
            <h1>JSON Diff / Compare</h1>
            <p>Compare two JSON objects and see differences highlighted</p>
        </div>

        <div class="toolbar">
            <button class="btn btn-primary" onclick="compareJSON()">&#128269; Compare</button>
            <button class="btn btn-secondary" onclick="swapInputs()">&#8646; Swap</button>
            <div class="toolbar-separator"></div>
            <button class="btn btn-secondary btn-sm" onclick="loadSample()">Sample</button>
            <button class="btn btn-danger btn-sm" onclick="clearAll()">&#128465; Clear</button>
        </div>

        <!-- Diff keeps side-by-side layout -->
        <div class="editor-layout">
            <div class="editor-panel">
                <div class="panel-header"><span class="panel-title">Original (Left)</span></div>
                <textarea class="editor-area" id="jsonLeft" placeholder="Paste original JSON here..." spellcheck="false"></textarea>
            </div>
            <div class="editor-panel">
                <div class="panel-header"><span class="panel-title">Modified (Right)</span></div>
                <textarea class="editor-area" id="jsonRight" placeholder="Paste modified JSON here..." spellcheck="false"></textarea>
            </div>
        </div>

        <!-- Diff Stats -->
        <div id="diffStats" style="display:none;margin-top:16px;">
            <div style="display:flex;gap:12px;flex-wrap:wrap;">
                <div class="card" style="padding:14px 20px;text-align:center;flex:1;min-width:100px;">
                    <div style="font-size:1.5rem;font-weight:800;color:var(--success);" id="addedCount">0</div>
                    <div style="font-size:0.78rem;color:var(--text-muted);">Added</div>
                </div>
                <div class="card" style="padding:14px 20px;text-align:center;flex:1;min-width:100px;">
                    <div style="font-size:1.5rem;font-weight:800;color:var(--error);" id="removedCount">0</div>
                    <div style="font-size:0.78rem;color:var(--text-muted);">Removed</div>
                </div>
                <div class="card" style="padding:14px 20px;text-align:center;flex:1;min-width:100px;">
                    <div style="font-size:1.5rem;font-weight:800;color:var(--warning);" id="changedCount">0</div>
                    <div style="font-size:0.78rem;color:var(--text-muted);">Changed</div>
                </div>
                <div class="card" style="padding:14px 20px;text-align:center;flex:1;min-width:100px;">
                    <div style="font-size:1.5rem;font-weight:800;color:var(--accent);" id="totalDiffs">0</div>
                    <div style="font-size:0.78rem;color:var(--text-muted);">Total</div>
                </div>
            </div>
        </div>

        <!-- Diff Results -->
        <div id="diffResults" style="display:none;margin-top:16px;">
            <div class="panel-header" style="border-radius:var(--radius) var(--radius) 0 0;">
                <span class="panel-title">Differences</span>
                <div class="panel-actions">
                    <button class="btn btn-secondary btn-sm" onclick="filterDiffs('all')" id="filterAll" style="border-color:var(--accent);">All</button>
                    <button class="btn btn-secondary btn-sm" onclick="filterDiffs('added')" id="filterAdded">Added</button>
                    <button class="btn btn-secondary btn-sm" onclick="filterDiffs('removed')" id="filterRemoved">Removed</button>
                    <button class="btn btn-secondary btn-sm" onclick="filterDiffs('changed')" id="filterChanged">Changed</button>
                </div>
            </div>
            <div style="border:1px solid var(--border-color);border-top:none;border-radius:0 0 var(--radius) var(--radius);overflow:auto;max-height:500px;" id="diffList"></div>
        </div>

        <div id="noDiff" style="display:none;margin-top:16px;">
            <div class="card" style="text-align:center;padding:40px;">
                <div style="font-size:3rem;margin-bottom:12px;">&#10003;</div>
                <h3 style="color:var(--success);margin-bottom:8px;">No Differences Found</h3>
                <p style="color:var(--text-muted);">Both JSON objects are identical</p>
            </div>
        </div>

        <div class="status-bar" style="margin-top:12px;"><div class="status-item"><div class="status-dot neutral" id="statusDot"></div><span id="statusText">Ready</span></div></div>
    </main>

    <!-- Educational Content -->
    <section class="guide-section">
        <h2>What is JSON Diff?</h2>
        <p>JSON Diff (or JSON comparison) is the process of analyzing two JSON documents to identify the differences between them. The tool categorizes changes into three types: <strong>added</strong> (keys or values present only in the modified version), <strong>removed</strong> (keys or values present only in the original), and <strong>changed</strong> (keys that exist in both but have different values).</p>
        <p>JSON comparison is essential for debugging API responses, tracking configuration changes, validating data migrations, and reviewing pull requests that modify JSON files.</p>

        <h2>How to Use This Tool</h2>
        <ol class="guide-steps">
            <li>Paste the original JSON into the <strong>Original (Left)</strong> panel.</li>
            <li>Paste the modified JSON into the <strong>Modified (Right)</strong> panel.</li>
            <li>Click <strong>Compare</strong> to see all differences. Use <strong>Swap</strong> to reverse the comparison direction.</li>
            <li>Filter results by type — Added, Removed, or Changed — using the filter buttons in the results section.</li>
        </ol>

        <h2>Common Use Cases</h2>
        <div class="guide-card">
            <ul>
                <li><strong>API Response Debugging</strong> — Compare expected vs. actual API responses to identify discrepancies in your application.</li>
                <li><strong>Configuration Management</strong> — Track what changed between two versions of a config file (e.g., <code>package.json</code>, <code>tsconfig.json</code>).</li>
                <li><strong>Data Migration Verification</strong> — Confirm that data was correctly transformed during migrations by comparing input and output.</li>
                <li><strong>Code Review</strong> — Quickly see what changed in JSON fixtures or mock data files in pull requests.</li>
            </ul>
        </div>

        <h2>Frequently Asked Questions</h2>
        <details class="faq-item">
            <summary>Does the order of keys matter in JSON comparison?</summary>
            <div class="faq-answer">No. This tool performs a deep structural comparison, not a text-based diff. Two JSON objects with the same keys and values in different orders are considered identical. Only actual data differences are reported.</div>
        </details>
        <details class="faq-item">
            <summary>Can I compare large JSON files?</summary>
            <div class="faq-answer">Yes. Since all processing happens in your browser, you can compare JSON files of any size that your device's memory can handle. For very large files (10MB+), the comparison may take a few seconds depending on your hardware.</div>
        </details>
        <details class="faq-item">
            <summary>How does nested comparison work?</summary>
            <div class="faq-answer">The tool recursively compares all nested objects and arrays. Each difference is shown with its full JSONPath (e.g., <code>$.config.theme</code>), so you can pinpoint exactly where in the structure a change occurred.</div>
        </details>
    </section>

    <div id="site-footer"></div>

    <script>
        let allDiffs = [];

        function compareJSON() {
            const lt = document.getElementById('jsonLeft').value.trim();
            const rt = document.getElementById('jsonRight').value.trim();
            if (!lt || !rt) { setStatus('Enter JSON in both panels', 'invalid'); return; }
            const lr = parseJSON(lt);
            if (!lr.success) { setStatus(`Left: ${lr.error.message}`, 'invalid'); return; }
            const rr = parseJSON(rt);
            if (!rr.success) { setStatus(`Right: ${rr.error.message}`, 'invalid'); return; }

            allDiffs = jsonDiff(lr.data, rr.data);
            const added = allDiffs.filter(d => d.type === 'added').length;
            const removed = allDiffs.filter(d => d.type === 'removed').length;
            const changed = allDiffs.filter(d => d.type === 'changed').length;

            document.getElementById('addedCount').textContent = added;
            document.getElementById('removedCount').textContent = removed;
            document.getElementById('changedCount').textContent = changed;
            document.getElementById('totalDiffs').textContent = allDiffs.length;

            if (allDiffs.length === 0) {
                document.getElementById('diffStats').style.display = 'none';
                document.getElementById('diffResults').style.display = 'none';
                document.getElementById('noDiff').style.display = '';
                setStatus('No differences', 'valid');
            } else {
                document.getElementById('diffStats').style.display = '';
                document.getElementById('diffResults').style.display = '';
                document.getElementById('noDiff').style.display = 'none';
                renderDiffs(allDiffs);
                setStatus(`${allDiffs.length} difference(s)`, 'invalid');
            }
        }

        function renderDiffs(diffs) {
            const list = document.getElementById('diffList');
            if (!diffs.length) { list.innerHTML = `<div style="padding:32px;text-align:center;color:var(--text-muted);">No items</div>`; return; }
            list.innerHTML = diffs.map(d => {
                const icon = d.type === 'added' ? '+' : d.type === 'removed' ? '-' : '~';
                let detail = '';
                if (d.type === 'changed') detail = `<div style="display:flex;gap:16px;flex-wrap:wrap;font-size:0.82rem;"><span style="color:var(--error);">- ${fmtVal(d.oldValue)}</span><span style="color:var(--success);">+ ${fmtVal(d.newValue)}</span></div>`;
                else detail = `<div style="font-size:0.82rem;color:${d.type==='added'?'var(--success)':'var(--error)'};">${icon} ${fmtVal(d.value)}</div>`;
                return `<div class="diff-${d.type}" style="padding:10px 16px;border-bottom:1px solid var(--border-color);font-family:monospace;font-size:0.85rem;" data-type="${d.type}"><div style="display:flex;justify-content:space-between;margin-bottom:4px;"><span style="font-weight:700;">${icon} ${d.path}</span><span style="font-size:0.75rem;padding:2px 8px;border-radius:4px;background:rgba(255,255,255,0.06);">${d.type}</span></div>${detail}</div>`;
            }).join('');
        }

        function fmtVal(v) { if (v===null) return '<em>null</em>'; if (typeof v==='object') return esc(JSON.stringify(v)); if (typeof v==='string') return `"${esc(v)}"`; return String(v); }
        function esc(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

        function filterDiffs(type) {
            ['All','Added','Removed','Changed'].forEach(t => { const b = document.getElementById('filter'+t); if(b) b.style.borderColor='var(--border-color)'; });
            const btn = document.getElementById('filter'+type.charAt(0).toUpperCase()+type.slice(1));
            if(btn) btn.style.borderColor='var(--accent)';
            renderDiffs(type==='all' ? allDiffs : allDiffs.filter(d=>d.type===type));
        }

        function swapInputs() { const l=document.getElementById('jsonLeft'),r=document.getElementById('jsonRight'),t=l.value; l.value=r.value; r.value=t; showToast('Swapped!'); }

        function loadSample() {
            document.getElementById('jsonLeft').value = JSON.stringify({"name":"JSON Tools","version":"1.0.0","features":["viewer","formatter","validator"],"config":{"theme":"dark","indent":2},"deprecated":"old"}, null, 2);
            document.getElementById('jsonRight').value = JSON.stringify({"name":"JSON Tools Pro","version":"2.0.0","features":["viewer","formatter","validator","diff"],"config":{"theme":"auto","indent":4,"newSetting":"enabled"}}, null, 2);
            compareJSON();
        }

        function clearAll() {
            document.getElementById('jsonLeft').value = '';
            document.getElementById('jsonRight').value = '';
            allDiffs = [];
            document.getElementById('diffStats').style.display = 'none';
            document.getElementById('diffResults').style.display = 'none';
            document.getElementById('noDiff').style.display = 'none';
            setStatus('Ready', 'neutral');
        }

        function setStatus(t, type) { document.getElementById('statusText').textContent = t; document.getElementById('statusDot').className = 'status-dot ' + type; }
    </script>
    <script src="app.js" defer></script>
</body>
</html>
