<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Validator Online - Check & Validate JSON Syntax</title>
    <meta name="description" content="Free online JSON validator. Check if your JSON is valid, find syntax errors with line numbers, and get auto-fix suggestions.">
    <link rel="canonical" href="https://json-viewer-ce3.pages.dev/json-validator.html">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <meta property="og:title" content="JSON Validator Online - Check & Validate JSON Syntax">
    <meta property="og:description" content="Free online JSON validator. Check if your JSON is valid, find syntax errors with line numbers, and get auto-fix suggestions.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://json-viewer-ce3.pages.dev/json-validator.html">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="JSON Validator Online - Check & Validate JSON Syntax">
    <meta name="twitter:description" content="Free online JSON validator. Find syntax errors with line numbers and auto-fix suggestions.">
    <meta name="google-adsense-account" content="ca-pub-8753276846370247">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8753276846370247" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <script src="app.js"></script>
    <script>document.write(getNavHTML('validator'));</script>

    <main>
        <div class="page-header">
            <h1>JSON Validator</h1>
            <p>Check if your JSON is valid and find syntax errors with precise line and column numbers</p>
        </div>

        <div class="toolbar">
            <button class="btn btn-primary" onclick="validateJSON()">&#10003; Validate</button>
            <button class="btn btn-secondary" onclick="autoFix()">&#128295; Auto Fix</button>
            <div class="toolbar-separator"></div>
            <button class="btn btn-secondary btn-sm" onclick="triggerUpload('jsonInput', validateJSON)">&#128194; Upload</button>
            <button class="btn btn-secondary btn-sm" onclick="loadSampleInvalid()">Invalid Sample</button>
            <button class="btn btn-secondary btn-sm" onclick="loadSampleValid()">Valid Sample</button>
            <button class="btn btn-danger btn-sm" onclick="clearValidator()">&#128465; Clear</button>
            <div class="toolbar-separator"></div>
            <label style="display:flex;align-items:center;gap:6px;cursor:pointer;">
                <input type="checkbox" id="liveValidate" checked style="accent-color:var(--accent);">
                <span style="font-size:0.78rem;color:var(--text-muted);">Live Validate</span>
            </label>
        </div>

        <div class="tabs">
            <button class="tab active" data-tab="input" onclick="switchTab('input')">Input</button>
            <button class="tab" data-tab="result" onclick="switchTab('result')">Result</button>
        </div>

        <div class="tab-body">
            <div class="tab-panel active" id="panel-input">
                <textarea class="editor-area" id="jsonInput" placeholder="Paste your JSON here to validate..." spellcheck="false"></textarea>
            </div>
            <div class="tab-panel" id="panel-result">
                <div class="output-area" id="resultArea">
                    <div style="color:var(--text-muted);text-align:center;padding-top:140px;">
                        <div style="font-size:3rem;margin-bottom:12px;">&#128269;</div>
                        <p>Enter JSON and click Validate</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="status-bar">
            <div class="status-item">
                <div class="status-dot neutral" id="statusDot"></div>
                <span id="statusText">Ready</span>
            </div>
        </div>
    </main>

    <!-- Educational Content -->
    <section class="guide-section">
        <h2>What is JSON Validation?</h2>
        <p>JSON validation is the process of checking whether a text string conforms to the JSON (JavaScript Object Notation) specification defined in <a href="https://www.json.org/" target="_blank" rel="noopener">RFC 8259</a>. A valid JSON document must follow strict syntax rules: strings must use double quotes, no trailing commas are allowed, keys must be quoted, and comments are not permitted.</p>
        <p>Even a single misplaced character — a missing comma, an extra bracket, or a single quote instead of a double quote — can cause an entire JSON document to fail parsing in applications and APIs.</p>

        <h2>How to Use This Validator</h2>
        <ol class="guide-steps">
            <li>Paste your JSON text into the <strong>Input</strong> tab, or click <strong>Upload</strong> to load a file from your computer.</li>
            <li>Click <strong>Validate</strong> to check the syntax. Enable <strong>Live Validate</strong> for real-time checking as you type.</li>
            <li>If valid, you will see a summary with key counts, depth, and file size. If invalid, the exact error location (line and column) is highlighted.</li>
            <li>Click <strong>Auto Fix</strong> to automatically correct common issues like trailing commas, single quotes, unquoted keys, and comments.</li>
        </ol>

        <h2>Common JSON Syntax Errors</h2>
        <div class="guide-card">
            <ul>
                <li><strong>Trailing commas</strong> — JSON does not allow a comma after the last item in an object or array: <code>{"a":1,}</code> is invalid.</li>
                <li><strong>Single quotes</strong> — All strings must use double quotes: <code>{'name':'value'}</code> should be <code>{"name":"value"}</code>.</li>
                <li><strong>Unquoted keys</strong> — Object keys must be strings in double quotes: <code>{name:"value"}</code> is invalid.</li>
                <li><strong>Comments</strong> — JSON does not support <code>//</code> or <code>/* */</code> comments. Use JSONC or JSON5 formats if you need comments.</li>
                <li><strong>Missing brackets</strong> — Every <code>{</code> needs a matching <code>}</code>, and every <code>[</code> needs a matching <code>]</code>.</li>
            </ul>
        </div>

        <h2>Frequently Asked Questions</h2>
        <details class="faq-item">
            <summary>What does the Auto Fix feature do?</summary>
            <div class="faq-answer">Auto Fix attempts to correct common JSON mistakes automatically. It removes trailing commas, converts single quotes to double quotes, adds quotes to unquoted keys, and strips JavaScript-style comments. After applying fixes, it re-validates the result.</div>
        </details>
        <details class="faq-item">
            <summary>Is JSON validation the same as JSON Schema validation?</summary>
            <div class="faq-answer">No. This tool performs <strong>syntax validation</strong> — it checks if your text is valid JSON according to the JSON specification. JSON Schema validation is a separate process that checks whether valid JSON conforms to a specific structure or data model you define.</div>
        </details>
        <details class="faq-item">
            <summary>Why does my JSON work in JavaScript but fail validation?</summary>
            <div class="faq-answer">JavaScript is more lenient than the JSON specification. JavaScript allows single quotes, unquoted keys, trailing commas, and comments — none of which are valid in strict JSON. Use our Auto Fix to convert JavaScript object notation into valid JSON.</div>
        </details>
    </section>

    <script>document.write(getFooterHTML());</script>

    <script>
        const input = document.getElementById('jsonInput');
        const resultArea = document.getElementById('resultArea');

        setupTextareaDrop('jsonInput', validateJSON);

        let debounceTimer;
        input.addEventListener('input', () => {
            if (document.getElementById('liveValidate').checked) {
                clearTimeout(debounceTimer);
                debounceTimer = setTimeout(validateJSON, 400);
            }
        });

        function validateJSON() {
            const text = input.value.trim();
            if (!text) {
                resultArea.innerHTML = `<div style="color:var(--text-muted);text-align:center;padding-top:140px;"><div style="font-size:3rem;margin-bottom:12px;">&#128269;</div><p>Enter JSON and click Validate</p></div>`;
                setStatus('Ready', 'neutral');
                return;
            }

            const result = parseJSON(text);

            if (result.success) {
                const stats = getJSONStats(result.data);
                resultArea.innerHTML = `
                    <div style="text-align:center;padding:40px 20px;">
                        <div style="width:80px;height:80px;border-radius:50%;background:var(--success);display:flex;align-items:center;justify-content:center;font-size:2.5rem;margin:0 auto 20px;">&#10003;</div>
                        <h2 style="color:var(--success);margin-bottom:8px;">Valid JSON</h2>
                        <p style="color:var(--text-muted);margin-bottom:24px;">Your JSON is well-formed and valid</p>
                        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;max-width:500px;margin:0 auto;">
                            <div class="card" style="padding:14px;text-align:center;"><div style="font-size:1.4rem;font-weight:800;color:var(--accent);">${stats.keys}</div><div style="font-size:0.75rem;color:var(--text-muted);">Keys</div></div>
                            <div class="card" style="padding:14px;text-align:center;"><div style="font-size:1.4rem;font-weight:800;color:var(--accent);">${stats.objects}</div><div style="font-size:0.75rem;color:var(--text-muted);">Objects</div></div>
                            <div class="card" style="padding:14px;text-align:center;"><div style="font-size:1.4rem;font-weight:800;color:var(--accent);">${stats.arrays}</div><div style="font-size:0.75rem;color:var(--text-muted);">Arrays</div></div>
                            <div class="card" style="padding:14px;text-align:center;"><div style="font-size:1.4rem;font-weight:800;color:var(--accent);">${stats.depth}</div><div style="font-size:0.75rem;color:var(--text-muted);">Depth</div></div>
                            <div class="card" style="padding:14px;text-align:center;"><div style="font-size:1.4rem;font-weight:800;color:var(--accent);">${stats.values}</div><div style="font-size:0.75rem;color:var(--text-muted);">Values</div></div>
                            <div class="card" style="padding:14px;text-align:center;"><div style="font-size:1.4rem;font-weight:800;color:var(--accent);">${formatBytes(new Blob([text]).size)}</div><div style="font-size:0.75rem;color:var(--text-muted);">Size</div></div>
                        </div>
                    </div>`;
                setStatus('Valid JSON', 'valid');
            } else {
                const lines = text.split('\n');
                const errorLine = result.error.line;
                let linesHTML = '';
                if (errorLine) {
                    const start = Math.max(0, errorLine - 4);
                    const end = Math.min(lines.length, errorLine + 3);
                    for (let i = start; i < end; i++) {
                        const lineNum = i + 1;
                        const isError = lineNum === errorLine;
                        const escaped = lines[i].replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                        linesHTML += `<div style="display:flex;gap:12px;padding:2px 8px;${isError ? 'background:rgba(239,68,68,0.15);border-left:3px solid var(--error);' : ''}"><span style="color:var(--text-muted);min-width:30px;text-align:right;user-select:none;">${lineNum}</span><span style="color:${isError ? 'var(--error)' : 'var(--text-secondary)'};">${escaped}</span></div>`;
                    }
                }
                resultArea.innerHTML = `
                    <div style="padding:20px;">
                        <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px;">
                            <div style="width:48px;height:48px;border-radius:50%;background:var(--error);display:flex;align-items:center;justify-content:center;font-size:1.5rem;flex-shrink:0;">&#10007;</div>
                            <div><h3 style="color:var(--error);margin-bottom:4px;">Invalid JSON</h3><p style="color:var(--text-secondary);font-size:0.85rem;">${result.error.message}</p></div>
                        </div>
                        ${errorLine ? `<div style="margin-bottom:16px;"><div style="font-size:0.82rem;font-weight:600;color:var(--text-secondary);margin-bottom:8px;">Error at Line ${errorLine}${result.error.col ? `, Column ${result.error.col}` : ''}</div><div style="background:var(--bg-input);border:1px solid var(--border-color);border-radius:var(--radius);padding:12px;font-family:monospace;font-size:0.85rem;line-height:1.8;overflow-x:auto;">${linesHTML}</div></div>` : ''}
                        <div class="card" style="padding:14px;"><div style="font-size:0.82rem;font-weight:600;color:var(--text-secondary);margin-bottom:8px;">Common fixes:</div><ul style="color:var(--text-muted);font-size:0.82rem;padding-left:18px;line-height:1.8;"><li>Check for trailing commas</li><li>Ensure all strings use double quotes</li><li>Verify brackets and braces are properly closed</li><li>Remove comments (not supported in JSON)</li></ul></div>
                    </div>`;
                setStatus(`Error at line ${errorLine || '?'}`, 'invalid');
            }
            switchTab('result');
        }

        function autoFix() {
            let text = input.value.trim();
            if (!text) return;
            text = text.replace(/,\s*([\]}])/g, '$1');
            text = text.replace(/'/g, '"');
            text = text.replace(/(\{|,)\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\s*:/g, '$1"$2":');
            text = text.replace(/\/\/.*$/gm, '');
            text = text.replace(/\/\*[\s\S]*?\*\//g, '');
            input.value = text;
            validateJSON();
            const result = parseJSON(text);
            if (result.success) {
                input.value = JSON.stringify(result.data, null, 2);
                showToast('JSON fixed and formatted!');
            } else {
                showToast('Auto-fix applied but JSON still has errors', 'error');
            }
        }

        function loadSampleInvalid() {
            input.value = `{\n  "name": "John",\n  "age": 30,\n  "hobbies": ['reading', "coding"],\n  "address": {\n    "city": "Seoul",\n    "zip": 12345,\n  },\n  // This is a comment\n  "active": true,\n}`;
            validateJSON();
        }

        function loadSampleValid() {
            input.value = JSON.stringify({"name":"John","age":30,"hobbies":["reading","coding"],"address":{"city":"Seoul","zip":12345},"active":true}, null, 2);
            validateJSON();
        }

        function clearValidator() {
            input.value = '';
            resultArea.innerHTML = `<div style="color:var(--text-muted);text-align:center;padding-top:140px;"><div style="font-size:3rem;margin-bottom:12px;">&#128269;</div><p>Enter JSON and click Validate</p></div>`;
            setStatus('Ready', 'neutral');
            switchTab('input');
        }

        function setStatus(text, type) {
            document.getElementById('statusText').textContent = text;
            document.getElementById('statusDot').className = 'status-dot ' + type;
        }
    </script>
</body>
</html>
